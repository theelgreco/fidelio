{"openapi":"3.1.0","info":{"title":"Income Calculator API","version":"1.0.0"},"components":{"securitySchemes":{"bearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}},"schemas":{"CreateTransactionInput":{"type":"object","required":["name","isExpense","amountInPence","isRecurring"],"properties":{"name":{"type":"string"},"isExpense":{"type":"boolean","default":false},"amountInPence":{"type":"number","default":0.01},"isRecurring":{"type":"boolean","default":false},"startDate":{"type":"string","format":"date-time"},"finishDate":{"type":"string","format":"date-time"},"recurrenceType":{"type":"string","enum":["day","week","month","year"]},"recurrenceRate":{"type":"number","default":1},"recurrenceRateType":{"type":"string","enum":["specific_day_of_week","specific_day_of_month","first_last_day_of_month"]},"specificDayOfWeek":{"type":"int","minimum":0,"maximum":6},"specificDayOfMonth":{"type":"int","minimum":1,"maximum":28},"firstLastDayOfMonth":{"type":"string","enum":["first_business","last_business","last","specific"]}}},"CreateTransactionResponse":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"createdAt":{"type":"string","format":"date-time"},"userId":{"type":"string","format":"uuid"},"name":{"type":"string"},"isExpense":{"type":"boolean"},"amountInPence":{"type":"number"},"isRecurring":{"type":"boolean"},"startDate":{"type":"string","format":"date-time"},"finishDate":{"type":"string","format":"date-time"},"recurrenceType":{"type":"string","enum":["day","week","month","year"]},"recurrenceRate":{"type":"number"},"recurrenceRateType":{"type":"string","enum":["specific_day_of_week","specific_day_of_month","first_last_day_of_month"]},"specificDayOfWeek":{"type":"int","minimum":0,"maximum":6},"specificDayOfMonth":{"type":"int","minimum":1,"maximum":28},"firstLastDayOfMonth":{"type":"string","enum":["first_business","last_business","last","specific"]}}},"GetTransactionYearParams":{"type":"integer"},"GetTransactionYearResponse":{"type":"array","items":{"type":"object","properties":{"monthName":{"type":"string","enum":["January","February","March","April","May","June","July","August","September","October","November","December"]},"income":{"type":"number","min":0},"expenses":{"type":"number","min":0},"remaining":{"type":"number","min":0}}},"minItems":12,"maxItems":12}}},"security":[{"bearerAuth":[]}],"paths":{"/api/validateJWT":{"get":{"tags":["Authentication"],"summary":"Validates the user's JSON Web Token","responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"msg":{"type":"string","default":"Your JWT is valid"}}}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"UnauthorizedError":{"type":"string","default":"No JWT provided"}}}}}}}}},"/api/transactions/{year}":{"get":{"tags":["Transactions"],"summary":"Retrieve the transactions for a user in a given year","parameters":[{"in":"path","name":"year","schema":{"$ref":"#/components/schemas/GetTransactionYearParams"},"required":true,"desciption":"Number representing the year to retrieve the transactions for"}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetTransactionYearResponse"}}}},"400":{"description":"Bad request"}}}},"/api/transactions":{"post":{"tags":["Transactions"],"summary":"Create a new transaction","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTransactionInput"}}}},"responses":{"200":{"400":{"description":"Bad request"},"description":"Success","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTransactionResponse"}}}}}}}},"tags":[]}